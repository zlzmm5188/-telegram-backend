
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>发送消息</title>
</head>
<body style="font-family: sans-serif; padding: 20px;">
  <h2>✉️ 发送消息到联系人</h2>
  <label>联系人用户名（如 @xxxx）：</label><br/>
  <input type="text" id="username"><br/><br/>
  <label>消息内容：</label><br/>
  <textarea id="message" rows="5" cols="40"></textarea><br/><br/>
  <button onclick="send()">发送</button>

  <script>
    const API_BASE = 'https://your-backend-url.com'; // 修改为你的 Python 后端地址

    async function send() {
      const username = document.getElementById("username").value;
      const message = document.getElementById("message").value;
      const res = await fetch(API_BASE + "/send", {
        method: "POST",
        headers: {"Content-Type": "application/json"},
        body: JSON.stringify({ username, message })
      });
      const data = await res.json();
      if (data.success) {
        alert("✅ 发送成功");
      } else {
        alert("❌ 发送失败");
      }
    }
  </script>
</body>
</html>
