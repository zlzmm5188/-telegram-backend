import{u as e,r as s,j as r}from"./CNfpgpjz.js";import{u as a,a as m,L as o}from"./Udhf45Dc.js";import{A as n}from"./22C-TE4c.js";import{F as l,I as i}from"./CmOOvI3R.js";import{B as t}from"./Cl-LLmMt.js";function c(){return!1}function d(){const c=a(),d=e(),{message:u}=n.useApp(),[p]=l.useForm(),j=m(),[h,g]=s.useState(!1);return s.useEffect((()=>{c&&(g(!1),c.success?(u.success("重置成功"),d("/login")):u.error(c.errors))}),[c,u]),r.jsxs(r.Fragment,{children:[r.jsxs(l,{form:p,name:"login",className:"space-y-4",onFinish:async e=>{g(!0),j(e,{method:"post"})},layout:"vertical",children:[r.jsx(l.Item,{name:"username",rules:[{required:!0,message:"请输入用户名"}],children:r.jsx(i,{name:"username",placeholder:"用户名",size:"large"})}),r.jsx(l.Item,{name:"password",rules:[{required:!0,message:"请输入旧密码"}],children:r.jsx(i.Password,{name:"password",placeholder:"旧密码",size:"large"})}),r.jsx(l.Item,{name:"newPassword",rules:[{required:!0,message:"请输入新密码"}],children:r.jsx(i.Password,{name:"newPassword",placeholder:"新密码",size:"large"})}),r.jsx(l.Item,{children:r.jsx(t,{type:"primary",htmlType:"submit",loading:h,block:!0,size:"large",children:h?"重置中...":"重置"})})]}),r.jsx(o,{to:"/login",className:"mt-4 block text-sm",children:"返回登录"})]})}export{d as default,c as shouldRevalidate};
